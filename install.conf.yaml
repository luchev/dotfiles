- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- link:
    ~/.profile:
        path: profile
        force: true
    ~/.vimrc: vimrc
    ~/.zshrc:
        path: zshrc
        force: true
    ~/.config/nvim:
      path: nvim
      force: true
    ~/.config/starship.toml: starship 
    ~/.gitconfig: gitconfig
    ~/.tmux.conf:
        path: tmux
        force: true

- shell:
    - command:
        test -d "${HOME}/.oh-my-zsh" ||
        sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
      description: Install Oh-My-ZSH
      quiet: true
    - command:
        test -d "${HOME}/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting" || 
        git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
      description: Install zsh plugin zsh-autosuggestions
      quiet: true
    - command:
        test -d "${HOME}/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting" ||
        git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting || true
      description: Install zsh plugin zsh-syntax-highlight
      quiet: true
    - command:
        test -d "${HOME}/.local/share/nvim/site/pack/packer/start/packer.nvim" ||
        git clone --depth 1 https://github.com/wbthomason/packer.nvim ~/.local/share/nvim/site/pack/packer/start/packer.nvim && 
        nvim -c ':PackerSync' -c ':qa!'
      description: Install packer.nvim
      quiet: true
    - command:
        test -d "${HOME}/.local/bin/diff-so-fancy" ||
        git clone https://github.com/so-fancy/diff-so-fancy ~/.local/bin/diff-so-fancy
      description: Install diff-so-fancy
      quiet: true
    - command:
        which starship || sh -c "$(curl -fsSL https://starship.rs/install.sh)" -s '-f' >/dev/null 2>&1
      description: Install starship
      quiet: true
