# This is Git's per-user configuration file.
[user]
	email = luchevz@gmail.com  # Your identity for commits
	name = Ivan Luchev
[init]
	defaultBranch = main  # Default branch name for new repositories
[core]
	editor = nvim  # Default text editor for commit messages
	pager = delta  # Use delta for better diffs
	fsmonitor = true  # Use filesystem monitor for faster git status in large repos
[delta]
	navigate = true  # Use n/N to navigate between diff sections
	side-by-side = true  # Show diffs side-by-side
	line-numbers = true  # Show line numbers
	dark = true  # Use dark theme (set to false for light terminals)
[diff]
	tool = vimdiff  # Use vimdiff for visual diffs
	algorithm = histogram  # Histogram algorithm produces better diffs than default myers
	colorMoved = default  # Highlight code that was moved between files
	colorMovedWS = allow-indentation-change  # Ignore indentation changes when detecting moved code
[merge]
	tool = vimdiff  # Use vimdiff for resolving merge conflicts
	conflictstyle = zdiff3  # Show common ancestor in conflict markers (enhanced 3-way diff)
[commit]
	verbose = true  # Show diff in commit message editor
	template = ~/.dotfiles/gitmessage  # Use commit message template
[push]
	default = simple  # Only push current branch to its upstream
	autoSetupRemote = true  # Automatically create remote branch on first push
	followTags = true  # Push annotated tags along with commits
[pull]
	rebase = true  # Use rebase instead of merge when pulling
[fetch]
	prune = true  # Auto-delete local refs to deleted remote branches
	pruneTags = true  # Also auto-delete tags removed from remote
[rebase]
	autoStash = true  # Automatically stash/unstash changes when rebasing
	autoSquash = true  # Auto-squash commits marked with fixup!/squash!
	updateRefs = true  # Update branch pointers during rebase (Git 2.38+)
[feature]
	manyFiles = true  # Optimize performance for repositories with many files
[transfer]
	fsckobjects = true  # Verify objects on transfer for security
[receive]
	fsckObjects = true  # Verify integrity of received objects on fetch/pull
[help]
	autocorrect = 10  # Auto-run corrected command after 1 second (10 deciseconds)
[status]
	showUntrackedFiles = all  # Show all untracked files in directories
	submoduleSummary = true  # Show summary of submodule changes
[log]
	abbrevCommit = true  # Use abbreviated commit hashes
	follow = true  # Continue listing file history beyond renames
[blame]
	ignoreRevsFile = .git-blame-ignore-revs  # Ignore formatting commits specified in this file
	markIgnoredLines = true  # Mark lines ignored by ignoreRevsFile
	markUnblamableLines = true  # Mark lines that can't be blamed
[mergetool]
	prompt = false  # Don't prompt before launching merge tool
[maintenance]
	auto = false  # Don't run automatic background maintenance
	strategy = incremental  # Use incremental maintenance strategy when run manually
[interactive]
	diffFilter = delta --color-only  # Use delta for interactive commands (add -p, etc.)
[branch]
	sort = -committerdate  # Sort git branch by latest commit
[color]
	ui = true  # Enable colored output in Git commands
[color "diff-highlight"]
	oldNormal = red bold  # Colors for removed lines
	oldHighlight = red bold 52
	newNormal = green bold  # Colors for added lines
	newHighlight = green bold 22
[color "diff"]
	meta = 11  # File metadata color
	frag = magenta bold  # Hunk header color
	func = 146 bold  # Function name in hunk header
	commit = yellow bold  # Commit hash color
	old = red bold  # Removed lines color
	new = green bold  # Added lines color
	whitespace = red reverse  # Whitespace errors
[column]
	ui = "auto"  # Git branch output multiple columns
[rerere]
	enabled = true  # Remember how conflicts were resolved and reuse solutions
[alias]
    a = add  # Add files to staging area
    aa = add --all  # Add all files (tracked and untracked)
    au = add --update  # Add only modified tracked files
    amend = commit --amend --reuse-message=HEAD  # Amend last commit without changing message
    b = branch  # Branch shorthand
    bd = branch --delete  # Delete branch
    bl = blame -C -C -C -w  # Blame but ignore code moves and whitespace
    c = commit  # Commit shorthand
    cm = commit --message  # Commit with inline message
    cv = commit --verbose  # Commit with verbose diff
    ce = commit --allow-empty  # Create empty commit
    cl = clone --filter=tree:0 --filter=blob:none  # Partial clone (faster for large repos)
    cn = config  # Config shorthand
    cng = config --global  # Global config shorthand
    cp = cherry-pick -x  # Cherry-pick with commit reference
    d = diff  # Diff shorthand
    ds = diff --staged  # Diff staged changes
    dw = diff --word-diff  # Word-based diff instead of line-based
    dm = "!git branch --merged | grep -v '\\*\\|main\\|master\\|develop' | xargs -n 1 git branch -d"  # Remove merged branches
    f = fetch  # Fetch shorthand
    l = log --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:"- %h [%ad]: %s (@%al)" # Pretty log of commits. Supports options of git log
    lg = log --abbrev-commit --abbrev=8 --graph  # Log with graph
    lgS = log -S  # Look in the log given a regular expression
    m = merge  # Merge shorthand
    mt = mergetool  # Launch merge tool
    p = push  # Push shorthand
    pf = push --force-with-lease  # Force push if nobody else has pushed to the branch
    pl = pull --ff-only --rebase  # Pull with fast-forward only and rebase
    r = remote  # Remote shorthand
    rb = rebase  # Rebase shorthand
    rs = reset  # Reset shorthand
    s = status --short --branch  # Compact status output
    sh = show  # Show shorthand
    sw = switch  # Switch branch
    swc = switch --create  # Create and switch to new branch
    st = stash --all  # Stash all files (including untracked)
    t = tag  # Tag shorthand
    upstream = reset --soft @{u}  # Reset to upstream branch (keep commits as uncommitted changes)
    unstage = restore --staged  # Unstage files
    sw- = switch -  # Switch to previous branch
    co- = checkout -  # Checkout previous branch
    graph = log --graph --oneline --decorate --all  # Beautiful graph log
    tree = log --graph --oneline --decorate --all --abbrev-commit  # Tree view of all branches
    find = log --all --oneline --grep  # Find commits by message
    files = diff-tree --no-commit-id --name-only -r  # Show files changed in a commit
    aliases = config --get-regexp '^alias\\.'  # List all aliases
    br = branch -vv  # List branches with last commit info
    unmerged = branch --no-merged main  # List branches not merged into main
    gone = ! git fetch -p && git branch -vv | grep ': gone]' | awk '{print $1}' | xargs git branch -D  # Prune local branches whose remotes are gone
    recent = branch --sort=-committerdate --format='%(committerdate:relative)%09%(refname:short)'  # Recent branches
    undo-commit = reset HEAD~1 --mixed  # Undo last commit but keep changes
    undo-last = reset --hard @{1}  # Undo last operation using reflog (WARNING: destroys uncommitted work)
    discard = checkout -- .  # Discard all local changes
    hardreset = !git fetch origin && git reset --hard origin/$(git rev-parse --abbrev-ref HEAD)  # Reset to remote branch
    stashes = stash list --pretty=format:'%C(yellow)%gd%Creset %>(14)%Cgreen%cr%Creset %s'  # List stashes with details
    stm = stash push -m  # Stash with message
    pop = stash pop  # Apply last stash and drop it
    findfile = !git log --all --full-history --pretty=format: --name-only | grep -i  # Find file in history
    contributors = shortlog --summary --numbered --email  # Show contributors
    ignored = !git ls-files -v | grep "^[[:lower:]]"  # Show ignored files
    count = shortlog -sn  # Count commits by author
    today = log --since=midnight --oneline --author=$(git config user.email)  # Show today's work
    optimize = !git repack -ad && git prune && git gc --aggressive  # Optimize repository
    prune-all = !git remote | xargs -n 1 git remote prune  # Remove gone remote branches
    # Worktree aliases - manage multiple working directories
    wt = worktree  # Worktree shorthand
    wtl = worktree list  # List all worktrees
    wta = worktree add  # Create new worktree (usage: git wta path/to/worktree branch-name)
    wtr = worktree remove  # Remove worktree
    wtm = worktree move  # Move worktree to new location
    wtp = worktree prune  # Clean up stale worktree metadata
    wtf = !git worktree add -b  # Create worktree with new branch (usage: git wtf new-branch path)
    wtd = !git worktree remove --force  # Force remove worktree (even with uncommitted changes)
    wtls = !git worktree list | awk '{print $1}'  # List worktree paths only
    wtclean = !git worktree prune && git worktree list  # Prune and show remaining worktrees
    wtbranch = !git worktree add -b $(basename $PWD)  # Create worktree from current dir name
